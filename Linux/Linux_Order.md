# Linux常用的命令

man命令    
---------------------------------
  如果需要查询命令的用法可以使用man或者help来查询。    
  `man 要查询的命令`    
  eg. man date    
  ![tu](images/man_date.png "man date")    
  在图里面的DATE(1)    
  数字1是指使用者在shell环境中可以操作的指令或可执行的文件。    
  数字5是指配置文件或是某些文件的格式。
  系统管理员可用的管理指令。    

ls命令是列出当前文件。    
------------------------------------------
  ls -al 是列出所有的文件详细的权限与属性（包含隐藏文件，.开头的文件就是隐藏文件）。       

netstat命令     
---------------------------------------------
  查看网络的连接状态    
  命令格式：`netstat -a `        

Linux关机：    
-------------------------------------------
  - 将数据同步写入硬盘的指令:`sync`    
  - 惯用的关机命令：`shutdown`    
  - -r 是将服务器关闭后在重新启动。`shutdown -r 20 二十分钟后关机重启`    
  - h 将系统的服务停掉后立即关机。 `shutdown -h 10 "十分钟后关机"`      
  - 重启使用 `reboot` 

cp命令    
-----------------------
  cp命令是将想要的文件或者目录的所有文件拷贝到另一个文件或者目录里。    
  语法：`cp [选项] 源文件或目录 目标文件或者目录` 
  选项的含义：    
   - a 在拷贝目录时使用，保留链接、文件属性，并递归地拷贝目录。    
   - d 拷贝时保留链接。    
   - f 删除已近存在的目标文件而不提示。    
   - i 在覆盖目标文件之前将给出提示，如果确认文件才会被覆盖。    
   - p 复制源文件的内容外，还将把其修改时间和访问权限都复制到新文件中。    
   - r 若给出的源文件是目录文件，就将该目录所有的文件和子目录都复制到另一个目录中。   
   - l 不做拷贝，只是链接文件。  

tar命令
----------------------------
  tar是压缩或者解压文件的命令，tar压缩文件一般都是以tar.gz为结尾。    
  语法：`tar [选项] 压缩名.后缀 文件夹名`
  选项的含义：     
   - c 建立压缩档案    
   - x 解压
   - t 查看内容
   - r 向压缩归档文件末尾追加文件
   - u 更新原压缩包中的文件    
  
  这五个是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用但只能用其中一个。       
  下面的参数是根据需要在压缩或解压档案时可选的。    
   - z 有gzip属性的
   - j 有bz2属性的 
   - Z 有compress属性的 
   - v 显示所有过程    
   - O 将文件解开到标准输出
  
  参数-f是必须的    
   - f 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。

  下面的例子参考：    
  `tar -cf all.tar *.jpg //这条命令是将所有.jpg的文件打成一个名为all.tar的包。-c是表示产生新的包，-f指定包的文件名。`    
  `tar -rf all.tar *.gif // 这条命令是将所有.gif的文件增加到all.tar的包里面去。-r是表示增加文件的意思。`     
  `tar -uf all.tar logo.gif //这条命令是更新原来tar包all.tar中logo.gif文件，-u是表示更新文件的意思。`     
  `tar -tf all.tar //这条命令是列出all.tar包中所有文件，-t是列出文件的意思`     
  `tar -xf all.tar // 这条命令是解出all.tar包中所有文件，-x是解开的意思`       
  `tar -tf aaa.tar.gz    //在不解压的情况下查看压缩包的内容`     

  压缩：    
  `tar –cvf jpg.tar *.jpg //将目录里所有jpg文件打包成tar.jpg`     
  `tar –czf jpg.tar.gz *.jpg //将目录里所有jpg文件打包成jpg.tar后，并且将其用gzip压缩，生成一个gzip压缩过的包，命名为jpg.tar.gz`
  `tar –cjf jpg.tar.bz2 *.jpg //将目录里所有jpg文件打包成jpg.tar后，并且将其用bzip2压缩，生成一个bzip2压缩过的包，命名为jpg.tar.bz2`
  `tar –cZf jpg.tar.Z *.jpg   //将目录里所有jpg文件打包成jpg.tar后，并且将其用compress压缩，生成一个umcompress压缩过的包，命名为jpg.tar.Z`

  解压：    
  `tar –xvf file.tar //解压 tar包`
  `tar -xzvf file.tar.gz //解压tar.gz`
  `tar -xjvf file.tar.bz2   //解压 tar.bz2`
  `tar –xZvf file.tar.Z //解压tar.Z`    

echo命令    
--------------------------------------------------------
  在终端输出字符串或变量提取后的值    
  语法格式：`echo 字符串/$变量 `    
    `echo "hello" echo $variadble`  

date命令    
--------------------------------------------------------
  用于显示或设置系统时间与日期。    
  语法格式：`date [+指定的格式]`    
  例如：`date "+%Y-%m-%d %H:%M:%S"`    
  - %S 表示秒（0 ~ 59）    
  - %M 表示分钟（0 ~ 59）    
  - %H 表示小时（0 ~ 59）   
  - %l(小写的L) 表示小时（0 ~ 12）    
  - %m 表示月份（0 ~ 12） 
  - %p 显示出AM或PM   
  - %a 缩写的工作日名称 例如：Sun    
  - %A 完整的工作日名称 例如：Sunday    
  - %b 缩写的月份名称 例如：Jan
  - %B 完整的月份名称 例如：January
  - %q 季度 （1 ~ 4）
  - %y 简写的年份 比如23
  - %Y 完整的年份 比如2023
  - %d 本月的第几天
  - %j 今年中的第几天
  - %n 换行符
  - %t 跳格        

weget命令    
-----------------------------------------------
  用于下载网络资源。    
  语法格式：`weget [参数]网址`     
  - -b 后台下载模式
  - -P 下载到指定目录
  - -t 最大尝试次数
  - -c 断点续传
  - -p 下载页面内所有资源，包括图片、视频等
  - -r 递归下载

ps命令    
------------------------------------------------------ 
  用于查看系统中的进程状态，全称processes。    
  语法格式: `ps [参数]`   
  - -a 显示所有进程（包括其他用户）
  - -u 用户及其其他详细信息    
  - -x 显示没有控制终端的进程    
  查看后端运行程序可以使用`ps-aux`     

pstree命令     
--------------------------------------------------------
  以树状图的形式展示进程之间的关系。全称process tree    
  命令格式：`pstree`

top命令     
---------------------------------------------------------
  用于动态地监视进程活动及系统负载等信息。      
  命令格式：`top`     

pidof命令    
----------------------------------
  用于查询某个指定服务进程的PID号码的值，注意每个进程的PID值是唯一的。    
  语法格式：`pidof [参数] 服务名称。`    

kill命令    
--------------------------------------------------------
  用于终止某个指定PID值的服务进程。     
  语法格式：`kill [参数] 进程的PID`    
  - -9 最高级别的强制杀死进程。    

killall命令    
------------------------------------------------------
  用于终止某个指定名称的服务多对应的全部进程。    
  语法格式：`kilall [参数]服务名称`     
  在复杂软件的服务程序会有多个进程协同为用户提供服务。如果要停止这个服务，使用kill命令一个一个杀死进程实在是费时间，使用killall来杀死所有进程。        

ifconfig命令    
----------------------------------------------------------
  查看网卡配置与网络状态等信息。    
  语法格式：`ifconfig`     
  ```
  eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 172.21.121.71  netmask 255.255.240.0  broadcast 172.21.127.255
        inet6 fe80::215:5dff:fe7d:4064  prefixlen 64  scopeid 0x20<link>
        ether 00:15:5d:7d:40:64  txqueuelen 1000  (Ethernet)
        RX packets 2781  bytes 1474040 (1.4 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 642  bytes 63653 (63.6 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

  lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 199842  bytes 103562481 (103.5 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 199842  bytes 103562481 (103.5 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
  ```
  inet参数后面是ip地址，ether参数后面的是网卡物理地址（又称为MAC地址），RX接收数据包的个数以及累计流量，TX是发送数据包的个数和累计流量。    

uname命令（Unix name）    
----------------------------------------------------------------
  用于查看系统内核版本与系统架构等信息。    
  - -a 完整地查看当前系统的内核名、主机名、内核发行版本、节点名等信息。      

uptime命令    
----------------------------------------------------------------
  用于查看系统的负载信息。      
  负载指的是系统的工作量多大。      
  语法格式：`uptime`
  `18:34:32       up  8:31,             0 users,  load average: 0.00, 0.00, 0.00`       
  系统当前的时间     系统已近运行的时间              系统的平均负荷    
  load average里面的三个数字可以判断系统负荷是大还是小。    
  这三个数字表示的是一分钟、五分钟、十五分钟内的系统平均负荷。     
  如果三个数字全是零是说cpu完全空闲。如果饱和则是全是1，系统最好别超过1，确保系统顺畅运行。        
  如果1分钟的系统负荷大于1.0，其他两个时间段都小于1.0，这表明只是暂时想象。如果15分钟内大于1.0则表示问题持续存在，不是暂时现象。    

free命令     
--------------------------------------------------------------------
  用于显示当前系统中内存的使用量信息。     
  语法格式为：`free [-h]`    

last命令     
--------------------------------------------------------------------
  用于调取主机的被访记录。    
  语法格式：`last`      

ping命令     
--------------------------------------------------------------------
  测试主机之间的网络连通性。    
  语法格式：`ping [参数] 主机地址`    
  - -c 总共发送次数    
  - -l 指定网卡名称     
  - -i 每次间隔时间（秒）     
  - -W 最长等待时间（秒）     

